# 13.1 I/O库头文件
>C++ 的 I/O 发生在流（stream）中，流是字节序列（sequences of bytes）。如果字节流是从设备（如键盘、磁盘驱动器、网络连接等）流向内存，这叫做**输入操作**。如果字节流是从内存流向设备（如显示屏、打印机、磁盘驱动器、网络连接等），这叫做**输出操作**
- `<iostream>`定义了`cin`（标准输入流）、`cout`（标准输出流）、`cerr`（非缓冲标准错误流）和`clog`（缓冲标准错误流）对象
- `<iomanip>`通过参数化的流操纵器（如`setw`、`setprecision`）来声明执行标准化输入输出相关的服务
- `<fstream>`为用户控制的文件处理声明服务
# 13.2 标准输入流
>使用标准输入输出流都需要引入头文件`<iostream>`，注意其中如`cin`和`cout`处于`std`命名空间，使用的时候要么在开头引入`using namespace std;`要么使用`std::cin`与`std::cout`
## 13.2.1 `cin`
- `cin`是`istream`类的一个实例，其附属到标准输入设备，常与流提取运算符`>>`结合使用
- 编译器根据输入值的数据类型，选择合适的流提取运算符来提取值，并将其存储在给定变量中
- 流提取运算符`>>`在一个语句中可以多次使用
- 键盘输入的数据保存在缓冲区中，当要提取时，是从缓冲区中拿；如果输入错了，必须在回车之前修改；只有把输入缓冲区中的数据取完后，才要求输入新的数据
- 空格和回车都可以作为数据之间的分格符，所以多个数据可以在一行输入，也可以分行输入；但如果是字符型和字符串，则空格（ASCII码32）无法用`cin`输入，字符串中也不能有空格，回车符也无法读入
## 13.2.2 `cin.get()`
- 用于读取单个或指定长度的字符，包括空白字符
```CPP
char a, b;

//两种形式读取单个字符，失败时返回0，多余字符残留在缓冲区（包括换行符）
a = cin.get();
cin.get(b);
```
- 函数`cin.get()`第一个参数为即被读取的东西，第二参数位为读取大小（字节数），第三参数位为终止字符
- 未指定终止字符时，默认其为换行符"\\n"；在遇到指定终止字符前，至多读取限制的大小个数的字符；终止字符始终不会被读取
```CPP
char str[20];

//如果输入的字符个数小于等于限制个数（不含终止字符），则终止字符不残留在缓冲区（但不会被读取）；反之则余下字符将残留在缓冲区
cin.get(str, sizeof(str), '\n');
```
## 13.2.3 `cin.getline()`
- 读取指定长度的字符，包括空白字符
- `cin.getline()`与`cin.get()`指定读取长度时的用法几乎一样，区别在于如果输入的字符个数大于指定的最大长度，`cin.get()`会使余下字符残留在缓冲区，等待下次读取；而`cin.getline()`会给输入流设为`Fail`状态，在主动恢复之前，无法再进行正常输入
```CPP
char str[20];

// 第3个参数也可以指定终止字符
cin.getline(str, sizeof(str));
```
## 13.2.4 `getline()`
- 使用时需要包含头文件`<string>`
- `getline()`并不是标准输入流`istream`的函数，而是字符串流`sstream`的函数，只能用于读取数据赋值给`string`类对象
- `getline()`会读取所有空白字符，且缓冲区末尾的换行符会被丢弃，不残留也不写到字符串结尾
- 由于`string`对象的空间是动态分配的，所以会一次性将缓冲区读完，不存在读不完残留在缓冲区的问题
```CPP
string str;
//从输入流读取文本赋值给字符串str
getline(cin, str);
```
- 处理多行字符串输入时，可以通过`while`循环解决
```CPP
int main()
{
	//用于接收输入内容
    string str;
	//检测多行字符串输入，getline()有输入则会返回真
    while (getline(cin, str))
    {
	    //需要对str执行的操作
    }
}
```
# 13.3 标准输出流
>在编写和执行大型程序时，不同输出方式之间的差异就变得非常明显，良好的编程实践告诉我们，使用`cerr`流来显示错误消息，而其他的日志消息则使用`clog`流来输出
## 13.3.1 `cout`
- 预定义的对象`cout`是`iostream`类的一个实例，连接到标准输出设备如显示屏，与流插入运算符`<<`结合使用的
- 编译器根据要输出变量的数据类型，选择合适的流插入运算符来显示值，`<<`运算符被重载来输出内置类型（整型、浮点型、double 型、字符串和指针）的数据项
- 流插入运算符 << 在一个语句中可以多次使用
## 13.3.2 `cerr`
- `cerr`对象附属到标准输出设备，通常也是显示屏，但是`cerr`对象是非缓冲的（错误消息可以直接发送到显示器，而无需等到缓冲区或者新的换行符时才被显示），每个流插入到`cerr`都会立即输出；`cerr`也是与流插入运算符`<<`结合使用的
```CPP
#include <iostream>
using namespace std;
int main( )
{
	char str[] = "Unable to read....";
	cerr << "Error message : " << str << endl;
}
//Error message : Unable to read....
```
## 13.3.3 `clog`
`clog`对象附属到标准输出设备，通常也是显示屏，但是`clog`对象是缓冲的。这意味着每个流插入到`clog`都会先存储在缓冲区，直到缓冲填满或者缓冲区刷新时才会输出；`clog`也是与流插入运算符`<<`结合使用的
```CPP
#include <iostream>
using namespace std;
int main( )
{
   char str[] = "Unable to read....";
   clog << "Error message : " << str << endl;
}
//Error message : Unable to read....
```