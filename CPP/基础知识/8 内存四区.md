# 8.1 基本概念
I. 程序执行时将内存分为四区域，分别赋予不同的生命周期，使我们可以灵活编程
II. 程序执行前，分为代码区和全局区
III. 程序编译运行后，生成了exe可执行程序，包含栈区和堆区
# 8.2 代码区
- 代码区存放函数体的二进制代码，由操作系统进行管理
- 代码区是共享的，对于频繁执行的程序只需要在内存中有一份代码 
- 代码区是只读的，防止程序意外地修改指令
# 8.3 全局区
- 全局变量(函数体外定义)、静态变量(static)、字符串常量(“abcd”)与其他常量(const修饰的全局变量)存放于此
- 该区域数据在结束后由操作系统释放
# 8.4 栈区
- 由编译器自动分配释放
- 存放函数的参数值、局部变量等
- 不要返回局部变量的地址(return &name)，因为变量name存放在栈区，运行完已然清空
```CPP
int* func()
{
	int a = 10;
	return &a;
}
int main()
{
	int* p = func();
	cout << *p << endl; //第一次能打印10，因为编译器保留了一次
	cout << *p << endl; //第二次则输出乱码
}
```
# 8.5 堆区
## 8.5.1 基本概念
- 由程序员分配释放，若程序员不释放，则由程序结束时操作系统回收
- 指针本质上是局部变量(存放在栈区)，指针保存的数据放在堆区
## 8.5.2 new的用法
- new关键字可以把数据开辟到堆区
- delete关键字可以释放堆区的数据
```CPP
int* func()
{
	int* a = new int(10);
	return a;
}
int main()
{
	int* p = func();
	cout << *p << endl;
	cout << *p << endl;//正常打印
	delete p;
}
```
- 在堆区开辟new数组
```CPP
int* arr = new int[10];
delete[] arr;
//释放堆区数组需要声明[]
```